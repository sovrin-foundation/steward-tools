The files in this repository are used to push log files, inter-validator ping 
statistics, and the output of the validator-info utility to a central 
"aggregation server". This will enable stewards on the network to more rapidly 
debug issues that span more than a single node.

The use of these files is voluntary. Stewards who participate by using these 
scripts to upload this information will have public-private key pairs that will 
allow them in turn to view the files that other stewards have uploaded.

The files in this package are:
    current_validators
        This reads the local copy of the pool ledger and aggregates that data in
        the entries to get the current validator node configuration, including 
        information telling which nodes are currently active on the network. 
        This file will be included in the standard indy-node package in a future
        release.
    node_address_list
        This will condense the data from the current_validators script to just
        those nodes that are currently active on the network, and limit the data
        shown for each to name, node ip address, and node port. It is used here
        to get o list of nodes to ping, for gathering network performance 
        statistics. This file will be included in the standard indy-node package 
        in a future release.
    findAlias.sh
        This is a small utility script that will find the alias of a node. It is
        used here to write your data to a uniquely named directory on the 
        aggregation server.
    findNodeNum.sh
        This is a small utility script that will determine which entry number in
        the ledger corresponds to your node. It is used to give a time offset so
        that the cron jobs will execute at different times. 
    install_logger.sh
        A script that will apply necessary configurations to the other scripts
        here, and place the scripts in their proper locations. It also generates
        an ssh public-private key pair for communications with the aggregation 
        server.
    sovrin-log-xfer.sh
        This script will be executed hourly. It updates the validator-info and
        ping statistics and syncs this data as well as the log files to the 
        aggregation server.
    sovrin_logger
        The cron file that will execute sovrin-log-xfer.sh.

To install:
    On your validator, as your login user with sudo privileges, download the 
    archive:
        git clone https://github.com/sovrin-foundation/steward-tools.git
    Go to the log_aggregation directory:
        cd steward-tools/log_aggregation
    Run the install script:
        ./install_logger.sh
    Send the resulting public key to support@sovrin.org 

Within about a day, Sovin ops personnel will place the public key on the 
aggregation server, and your logs will begin to be synced hourly. Logs on your
validator for this are in /home/indy/sovrin-log-xfer.log.

To see the log data use sftp with your private key, which was generated by 
install_logger.sh and placed at /home/indy/logwriter_key:
    sudo su - indy
    sftp -o "IdentityFile=logwriter_key" <node_alias>@18.217.23.64
(replacing <node_alias>). You will use standard ftp commands, once 
authenticated. Other nodes' data can be seen using the ftp cd command:
    sftp> cd /home/stewards/<node_alias>
